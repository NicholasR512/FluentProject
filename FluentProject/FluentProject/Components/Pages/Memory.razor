@page "/memory"
@rendermode InteractiveServer

<PageTitle>Memory</PageTitle>

<div>
    <span>
        <FluentButton @onclick="() => Play(1)"> <p>1</p> </FluentButton>
        <FluentButton @onclick="() => Play(3)"><p>3</p></FluentButton>
        <FluentButton @onclick="() => Play(7)"><p>7</p></FluentButton>
        <FluentButton @onclick="() => Play(3)"><p>3</p></FluentButton>
    </span>

    <span>
        <FluentButton @onclick="() => Play(6)"><p>6</p></FluentButton>
        <FluentButton @onclick="() => Play(1)"><p>1</p></FluentButton>
        <FluentButton @onclick="() => Play(8)"><p>8</p></FluentButton>
        <FluentButton @onclick="() => Play(2)"><p>2</p></FluentButton>
    </span>

    <span>
        <FluentButton @onclick="() => Play(5)"><p>5</p></FluentButton>
        <FluentButton @onclick="() => Play(4)"><p>4</p></FluentButton>
        <FluentButton @onclick="() => Play(2)"><p>2</p></FluentButton>
        <FluentButton @onclick="() => Play(6)"><p>6</p></FluentButton>
    </span>

    <span>
        <FluentButton @onclick="() => Play(8)"><p>8</p></FluentButton>
        <FluentButton @onclick="() => Play(5)"><p>5</p></FluentButton>
        <FluentButton @onclick="() => Play(7)"><p>7</p></FluentButton>
        <FluentButton @onclick="() => Play(4)"><p>4</p></FluentButton>
    </span>
</div>


@code {
    private int total = 0;
    private int card1 = 0;
    private bool isMatch = false;

    private void Play(int n)
    {
        if (total == 0)
        {
            FlipCard(n);
            card1 = n;
            total += 1;
        }
        else if (total == 1)
        {
            FlipCard(n);
            total += 1;
            if (card1 == n)
            {
                Console.WriteLine("match");
                isMatch = true;
            }
            else
            {
                Console.WriteLine("no match");
            }
            total = 0;
        }
    }
    private void FlipCard(int n){
        Console.WriteLine(n);
    }
}
